name: Send daily Telegram message

on:
  schedule:
    - cron: "0 4 * * *"        # 10:00 Asia/Qostanay
    - cron: "0 7 * * *"      # test 
    - cron: "0 7 29 12 *"      # 13:00 Asia/Qostanay on Dec 29
    - cron: "0 12 29 12 *"     # 18:00 Asia/Qostanay on Dec 29
    - cron: "0 15 29 12 *"     # 21:00 Asia/Qostanay on Dec 29
  workflow_dispatch:

jobs:
  send:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: "3.11"
      - name: Install dependencies
        run: pip install -r requirements.txt
      - name: Send daily message
        env:
          BOT_TOKEN: ${{ secrets.BOT_TOKEN }}
          CHAT_ID: ${{ secrets.CHAT_ID }}
        run: python happy_birthday_anara/send_daily.py
